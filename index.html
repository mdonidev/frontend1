<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kayal - Premium T-Shirt Shop</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <a class="logo" href="index.html">KAYAL</a>
            <ul class="nav-menu">
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="shop.html">Shop</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="cart.html" class="cart-icon">ðŸ›’ Cart (0)</a></li>
            </ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Welcome to Kayal</h1>
            <p>Premium Quality T-Shirts for Every Style</p>
            <a href="shop.html" class="btn btn-primary">Shop Now</a>
        </div>
        <div class="hero-image">
            <div class="hero-placeholder">ðŸ‘•</div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="featured">
        <h2>Featured Collections</h2>
        <div class="products-grid">
            <div class="product-card">
                <div class="product-image">ðŸ‘•</div>
                <h3>Classic White</h3>
                <p class="price" data-usd="19.99">$19.99</p>
                <button class="btn btn-secondary" onclick="addToCart('Classic White', 19.99)">Add to Cart</button>
            </div>
            <div class="product-card">
                <div class="product-image">ðŸŽ¨</div>
                <h3>Color Bold</h3>
                <p class="price" data-usd="22.99">$22.99</p>
                <button class="btn btn-secondary" onclick="addToCart('Color Bold', 22.99)">Add to Cart</button>
            </div>
            <div class="product-card">
                <div class="product-image">âœ¨</div>
                <h3>Premium Comfort</h3>
                <p class="price" data-usd="24.99">$24.99</p>
                <button class="btn btn-secondary" onclick="addToCart('Premium Comfort', 24.99)">Add to Cart</button>
            </div>
            <div class="product-card">
                <div class="product-image">ðŸŒŸ</div>
                <h3>Signature Edition</h3>
                <p class="price" data-usd="29.99">$29.99</p>
                <button class="btn btn-secondary" onclick="addToCart('Signature Edition', 29.99)">Add to Cart</button>
            </div>
        </div>
        <div class="view-all">
            <a href="shop.html" class="btn btn-primary">View All Products</a>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features">
        <div class="feature-item">
            <div class="feature-icon">âœ“</div>
            <h3>Premium Quality</h3>
            <p>100% organic cotton with superior comfort</p>
        </div>
        <div class="feature-item">
            <div class="feature-icon">ðŸšš</div>
            <h3>Fast Shipping</h3>
            <p>Free shipping on orders over <span class="free-shipping-usd" data-usd="50">$50</span></p>
        </div>
        <div class="feature-item">
            <div class="feature-icon">ðŸ”„</div>
            <h3>Easy Returns</h3>
            <p>30-day money-back guarantee</p>
        </div>
        <div class="feature-item">
            <div class="feature-icon">ðŸ’¬</div>
            <h3>24/7 Support</h3>
            <p>Friendly customer service always ready</p>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter">
        <h2>Stay Updated</h2>
        <p>Subscribe to get special offers and updates</p>
        <form class="newsletter-form" onsubmit="handleNewsletter(event)">
            <input type="email" placeholder="Enter your email" required>
            <button type="submit" class="btn btn-primary">Subscribe</button>
        </form>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>About Kayal</h4>
                <p>Your go-to destination for premium quality t-shirts with style and comfort.</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="shop.html">Shop</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="#">Privacy Policy</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Follow Us</h4>
                <div class="social-links">
                    <a href="#" class="social-link">Facebook</a>
                    <a href="#" class="social-link">Instagram</a>
                    <a href="#" class="social-link">Twitter</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 Kayal T-Shirt Shop. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="auth.js"></script>
    <script>
        // Load site settings and update emojis/images
        async function loadSiteSettings() {
            try {
                const response = await fetch('https://backend-production-4bcf.up.railway.app/api/site-settings');
                if (!response.ok) return;

                const settings = await response.json();

                // Helper function to set emoji or image
                function setEmojiOrImage(element, value) {
                    if (!element) return;

                    if (value.startsWith('http')) {
                        // It's a URL - create an image tag
                        const img = document.createElement('img');
                        img.src = value;
                        img.alt = 'Product image';
                        img.style.maxWidth = '100%';
                        img.style.maxHeight = '100%';
                        img.style.objectFit = 'contain';
                        element.innerHTML = '';
                        element.appendChild(img);
                    } else {
                        // It's an emoji - set as text
                        element.textContent = value;
                    }
                }

                // Update hero emoji/image
                const heroPlaceholder = document.querySelector('.hero-placeholder');
                if (heroPlaceholder && settings.hero_emoji) {
                    setEmojiOrImage(heroPlaceholder, settings.hero_emoji);
                }

                // Update featured product emojis/images
                const emojiMappings = [
                    { selector: '.featured .product-card:nth-child(1) .product-image', key: 'classic_white_emoji' },
                    { selector: '.featured .product-card:nth-child(2) .product-image', key: 'color_bold_emoji' },
                    { selector: '.featured .product-card:nth-child(3) .product-image', key: 'premium_comfort_emoji' },
                    { selector: '.featured .product-card:nth-child(4) .product-image', key: 'signature_edition_emoji' }
                ];

                emojiMappings.forEach(mapping => {
                    const element = document.querySelector(mapping.selector);
                    if (element && settings[mapping.key]) {
                        setEmojiOrImage(element, settings[mapping.key]);
                    }
                });

                // Update feature icons
                const featureMappings = [
                    { selector: '.features .feature-item:nth-child(2) .feature-icon', key: 'shipping_icon' },
                    { selector: '.features .feature-item:nth-child(3) .feature-icon', key: 'returns_icon' },
                    { selector: '.features .feature-item:nth-child(4) .feature-icon', key: 'support_icon' }
                ];

                featureMappings.forEach(mapping => {
                    const element = document.querySelector(mapping.selector);
                    if (element && settings[mapping.key]) {
                        setEmojiOrImage(element, settings[mapping.key]);
                    }
                });

            } catch (error) {
                console.warn('Could not load site settings:', error);
                // Continue with default emojis
            }
        }

        // Load settings when page loads
        document.addEventListener('DOMContentLoaded', () => {
            loadSiteSettings();
        });
    </script>
</body>
</html>
